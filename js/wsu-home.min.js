var wsuFOS=wsuFOS||{};!function(e,t,n,a,r){"use strict";r.appView=t.View.extend({el:".find-fos-wrapper",events:{"click .fos-label":"toggleAcademic"},toggleAcademic:function(e){var t=n(e.target).parent();n(t).hasClass("fos-open")?n(t).removeClass("fos-open"):n(t).addClass("fos-open")}})}(window,Backbone,jQuery,_,wsuFOS);{const e=document.querySelector(".main-navigation .nav-dropdown"),t=e.querySelectorAll("button"),n=document.querySelector(".header-search-wrapper"),a=document.querySelector(".nav-search button"),r=n.querySelector(".close-header-search button"),l=27,i=40,s=38,o=39,c=37;e.addEventListener("keydown",function(e){if(e.keyCode===l&&(t.forEach(function(e){e.setAttribute("aria-expanded",!1),e.nextElementSibling.hidden=!0}),e.path.forEach(function(e){"li"===e.localName&&e.classList.contains("nav-section")&&e.querySelector("button").focus()})),e.keyCode===i&&"a"===e.srcElement.localName&&(null!==e.srcElement.parentElement.nextElementSibling?e.srcElement.parentElement.nextElementSibling.querySelector("a").focus():e.srcElement.parentElement.parentElement.querySelector("a").focus()),e.keyCode===s&&"a"===e.srcElement.localName)if(null!==e.srcElement.parentElement.previousElementSibling)e.srcElement.parentElement.previousElementSibling.querySelector("a").focus();else{let t=e.srcElement.parentElement.parentElement.querySelectorAll("a");t[t.length-1].focus()}if(e.keyCode===o&&"a"===e.srcElement.localName&&e.path.forEach(function(e){"li"===e.localName&&e.classList.contains("nav-section")&&null!==e.nextElementSibling&&e.nextElementSibling.querySelector("button").focus()}),e.keyCode===o&&"button"===e.srcElement.localName&&(null===e.srcElement.parentElement.nextElementSibling?e.srcElement.parentElement.parentElement.querySelector("button").focus():e.srcElement.parentElement.nextElementSibling.querySelector("button").focus()),e.keyCode===c&&"a"===e.srcElement.localName&&e.path.forEach(function(e){"li"===e.localName&&e.classList.contains("nav-section")&&null!==e.previousElementSibling&&e.previousElementSibling.querySelector("button").focus()}),e.keyCode===c&&"button"===e.srcElement.localName)if(null===e.srcElement.parentElement.previousElementSibling){let t=e.srcElement.parentElement.parentElement.querySelectorAll("button");t[t.length-1].focus()}else e.srcElement.parentElement.previousElementSibling.querySelector("button").focus()}),t.forEach(function(e){e.addEventListener("click",function(e){let n="true"===this.getAttribute("aria-expanded")||!1;t.forEach(function(e){e.setAttribute("aria-expanded",!n);let t=e.nextElementSibling;t.hidden=!t.hidden}),0===e.screenX&&0===e.screenY&&this.nextElementSibling.querySelector("a").focus()}),e.addEventListener("keydown",function(e){e.keyCode===i&&"false"===this.getAttribute("aria-expanded")?(t.forEach(function(e){e.setAttribute("aria-expanded",!0),e.nextElementSibling.hidden=!1}),this.nextElementSibling.querySelector("a").focus()):e.keyCode===i&&"true"===this.getAttribute("aria-expanded")&&this.nextElementSibling.querySelector("a").focus(),e.keyCode===s&&"true"===this.getAttribute("aria-expanded")&&t.forEach(function(e){e.setAttribute("aria-expanded",!1),e.nextElementSibling.hidden=!0})})}),a.addEventListener("click",function(){n.classList.contains("header-search-wrapper-open")?n.classList.remove("header-search-wrapper-open"):n.classList.add("header-search-wrapper-open")}),r.addEventListener("click",function(){n.classList.remove("header-search-wrapper-open"),0===event.screenX&&0===event.screenY&&a.focus()})}try{Typekit.load()}catch(e){}var wsuNavigation=wsuNavigation||{};wsuFOS=wsuFOS||{};!function(e,t,n){e(document).ready(function(){var t,n,a,r;t=e(".features-container"),n="<ul class='home-headline-nav'>",a=!1,t.find(".home-headline").each(function(){var t=e(this),r=t.data("id"),l=t.data("anchor"),i=t.data("headline"),s=t.data("date"),o="active-feature";!1===a?(s="Now",a=!0):o="",n+="<li data-id='"+r+"' class='"+o+"'><span class='home-headline-nav-headline'><a href='"+l+"'>"+i+"</a></span><span class='home-headline-nav-date'>"+s+"</span></li>"}),n+="<li><span class='home-headline-nav-date home-headline-nav-more'><a href='/125/'>...</a></span></li></ul>",t.append(n),e(".home-headline-nav").on("click",function(t){var n=!1,a=e(t.target);if(e(".home-headline-nav").find(".active-feature").removeClass("active-feature"),a.is("li")?(n=a.data("id"),a.addClass("active-feature")):(n=a.parents("li").data("id"),a.parents("li").addClass("active-feature")),void 0!==n){var r=e(".features-container");r.hasClass("features-start")&&r.removeClass("features-start"),e(".wsu-home-headline-wrapper-open").removeClass("wsu-home-headline-wrapper-open"),e("#"+n).addClass("wsu-home-headline-wrapper-open")}}),e(".section-wrapper-has-background").each(function(){var t=e(this).data("background");e(this).css("background-image","url("+t+")")}),(r=e(".lt-ie9").find("img[src$='.svg']")).length&&e.each(r,function(){e(this).attr("src",e(this).attr("src").replace(".svg",".png"))})}),void 0!==t.appView&&(t.app=new t.appView),void 0!==n.appView&&(n.app=new n.appView)}(jQuery,wsuNavigation,wsuFOS),function(e){var t=function(){return 0!==e(".wsu-home-alert").length},n=function(){e.get("https://alert.wsu.edu/wp-json/alert/v1/active/",function(n){"emergency"===n.status&&!1===t()?e("#binder").prepend("<div class='wsu-home-alert'><h1>WSU Alert</h1><a href='"+n.url+"'>"+n.message+"</a></div>"):"clear"===n.status&&t()&&e(".wsu-home-alert").remove()})};n(),setInterval(n,12e4)}(jQuery);